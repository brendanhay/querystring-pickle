:set -isrc
:set -XDeriveGeneric
:set -XOverloadedStrings

:load Network.HTTP.QueryString.Pickle

import           Data.ByteString       (ByteString)
import qualified Data.ByteString.Char8 as BS
import           GHC.Generics
import           System.IO

hSetBuffering stdout LineBuffering

data A = A { aInt :: Int } deriving (Show, Generic)
data B = B { bA :: Maybe A } deriving (Show, Generic)
data C = C { cB :: B } deriving (Show, Generic)

instance IsQuery A
instance IsQuery B
instance IsQuery C

let b = C $ B Nothing
let qry = toQuery b
